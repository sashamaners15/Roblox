local startTime = tick()

getgenv().Version = "1"

task.spawn(function()
    if not getgenv().AntiAfk then
        getgenv().AntiAfk = true
        while true do
            task.wait(1100)
            pcall(function()
                game:GetService("VirtualInputManager"):SendKeyEvent(true, "RightBracket", false, game)
            end)
        end
    end
end)

local function GetService(serviceName)
    return game:GetService(serviceName)
end

local Players = GetService("Players")
local ReplicatedStorage = GetService("ReplicatedStorage")
local ReplicatedModules = ReplicatedStorage:WaitForChild("ReplicatedModules")
local Player = Players.LocalPlayer
local Character = Player.Character or Player.CharacterAdded:Wait()
local HRP = Character:WaitForChild("HumanoidRootPart")
local Knit = ReplicatedModules.KnitPackage.Knit
local MoveInputService = Knit.Services.MoveInputService
local CombatService = ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("CombatService")
local HttpService = GetService("HttpService")
local Luna = loadstring(game:HttpGet("https://raw.githubusercontent.com/Nebula-Softworks/Luna-Interface-Suite/refs/heads/main/source.lua", true))()

local Trove = loadstring(game:HttpGet("https://raw.githubusercontent.com/sashamaners15/Roblox/refs/heads/main/Trove"))()

local Effects = loadstring(game:HttpGet("https://raw.githubusercontent.com/sashamaners15/Roblox/refs/heads/main/AUT_EFFECTS"))()

local function onCharacterAdded(char)
    Character = char
    HRP = char:WaitForChild("HumanoidRootPart", 5)
    Humanoid = char:WaitForChild("Humanoid", 5)
end

if Player.Character then
    onCharacterAdded(Player.Character)
end
Player.CharacterAdded:Connect(onCharacterAdded)

local Window = Luna:CreateWindow({
	Name = "Prime Hub [Boundless Tower]",
	Subtitle = nil,
	LogoID = "82795327169782",
	LoadingEnabled = true,
	LoadingTitle = "Prime Hub [Boundless Tower]",
	LoadingSubtitle = "Initializing...",
	ConfigSettings = {
		RootFolder = "Prime Hub",
		ConfigFolder = "Configs",
		AutoSave = true
	}
})

local function SaveConfig(configName)
    local configPath = string.format("%s/%s.json", Window.ConfigSettings.RootFolder, configName)
    local configData = HttpService:JSONEncode(Window:GetAllSettings())
    writefile(configPath, configData)
    print("[Prime Hub] Конфигурация сохранена: " .. configPath)
end

local function LoadConfig(configName)
    local configPath = string.format("%s/%s.json", Window.ConfigSettings.RootFolder, configName)
    if isfile(configPath) then
        local success, result = pcall(function()
            local configData = readfile(configPath)
            local decodedData = HttpService:JSONDecode(configData)
            Window:LoadSettings(decodedData)
        end)

        if success then
            print("[Prime Hub] Конфигурация успешно загружена: " .. configPath)
        else
            warn("[Prime Hub] Ошибка при загрузке конфигурации: " .. tostring(result))
        end
    else
        warn("[Prime Hub] Конфигурация не найдена: " .. configPath)
    end
end

LoadConfig("DefaultConfig")

Window:CreateHomeTab({
	SupportedExecutors = {},
	DiscordInvite = "1234",
	Icon = 1,
})

local Main = Window:CreateTab({
	Name = "Main",
	Icon = "view_in_ar",
	ImageSource = "Material",
	ShowTitle = true
})
